<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScriptãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–è¡“ï¼šæ—©ã„ã‚³ãƒ¼ãƒ‰ã¯ç¾ã—ã„</title>
    <style>
        /* Google Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap');

        /* åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ« */
        :root {
            --primary-color: #005a9c;
            --primary-hover: #004a80;
            --secondary-color: #3498db;
            --background-color: #f8f9fa;
            --card-background: #ffffff;
            --text-color: #343a40;
            --heading-color: #2c3e50;
            --border-color: #e9ecef;
            --shadow-color: rgba(0, 90, 156, 0.1);
        }

        body {
            font-family: 'Noto Sans JP', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.8;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 960px;
            margin: 0 auto;
            padding: 1rem;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        header {
            text-align: center;
            padding: 4rem 1rem;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: 0 0 20px 20px;
            margin-bottom: 3rem;
        }

        header h1 {
            font-size: 2.8rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        header p {
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto;
            opacity: 0.9;
        }

        /* è¦‹å‡ºã— */
        h2, h3, h4 {
            color: var(--heading-color);
            font-weight: 700;
        }

        h2 {
            font-size: 2rem;
            border-bottom: 3px solid var(--primary-color);
            padding-bottom: 0.5rem;
            margin-top: 0;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        h3 {
            font-size: 1.5rem;
            margin-top: 2.5rem;
        }
        
        h4 {
            font-size: 1.2rem;
            margin-top: 2rem;
            margin-bottom: 0.5rem;
        }

        /* ã‚«ãƒ¼ãƒ‰é¢¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .card {
            background: var(--card-background);
            border-radius: 12px;
            padding: 2rem 2.5rem;
            margin-bottom: 2.5rem;
            box-shadow: 0 8px 25px var(--shadow-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px var(--shadow-color);
        }

        /* ã‚³ãƒ¼ãƒ‰è¡¨ç¤º */
        pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.95em;
            line-height: 1.6;
            min-height: 100px;
        }

        code {
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
        }

        /* ç”¨èªè§£èª¬ */
        dfn {
            font-style: normal;
            border-bottom: 2px dotted var(--secondary-color);
            cursor: help;
            position: relative;
        }

        /* ãƒ‡ãƒ¢ã‚¨ãƒªã‚¢ */
        .demo-box {
            margin-top: 2rem;
            padding: 2rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: #fdfdfd;
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        .demo-column p {
            min-height: 80px;
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            width: 100%;
        }

        button:hover {
            background-color: var(--primary-hover);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        button:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
            transform: translateY(0);
            box-shadow: none;
        }

        #run-slow-dom, #run-slow-loop, #run-normal-load {
            background-color: #e74c3c;
        }
        #run-slow-dom:hover, #run-slow-loop:hover, #run-normal-load:hover {
            background-color: #c0392b;
        }

        #run-fast-dom, #run-fast-loop, #run-lazy-load {
            background-color: #2ecc71;
        }
        #run-fast-dom:hover, #run-fast-loop:hover, #run-lazy-load:hover {
            background-color: #27ae60;
        }

        #reset-all-demos {
            background-color: #7f8c8d;
        }
        #reset-all-demos:hover {
            background-color: #616a6b;
        }

        .result-display {
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: var(--border-color);
            border-radius: 8px;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
            min-height: 2.5em;
            transition: background-color 0.3s;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* ç”»åƒé…å»¶èª­ã¿è¾¼ã¿ãƒ‡ãƒ¢ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
            padding: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            min-height: 300px;
            background: #f0f0f0;
        }
        
        .image-grid img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 8px;
            background-color: #e0e0e0;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .image-grid img.loaded {
            opacity: 1;
        }
        
        /* ãƒ•ãƒƒã‚¿ãƒ¼ */
        footer {
            text-align: center;
            padding: 2rem 1rem;
            margin-top: 2rem;
            color: #7f8c8d;
            font-size: 0.9em;
        }


        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
        @media (max-width: 768px) {
            header h1 { font-size: 2.2rem; }
            h2 { font-size: 1.8rem; }
            .card { padding: 1.5rem; }
            .demo-grid { grid-template-columns: 1fr; }
            .demo-column p { min-height: auto; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>JavaScriptãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–è¡“</h1>
            <p>ğŸš€ æ—©ã„ã‚³ãƒ¼ãƒ‰ã¯ç¾ã—ã„ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æ„›ã•ã‚Œã€æœªæ¥ã®è‡ªåˆ†ã‚‚åŠ©ã‘ã‚‹æœ€é©åŒ–ã®ä¸–ç•Œã¸ã‚ˆã†ã“ãï¼</p>
        </header>

        <main>
            <section class="card">
                <h2>ğŸ¤” ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨ã¯ä½•ã‹ï¼Ÿ</h2>
                <p>Webã‚µã‚¤ãƒˆã®ã€Œãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã¨ã¯ã€å˜ã«ã€Œé€Ÿã•ã€ã®ã“ã¨ã ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä¸»ã«3ã¤ã®å´é¢ãŒã‚ã‚Šã¾ã™ã€‚</p>
                <ul>
                    <li><strong>å®Ÿè¡Œé€Ÿåº¦:</strong> JavaScriptã®ã‚³ãƒ¼ãƒ‰ãŒå‡¦ç†ã‚’å®Œäº†ã™ã‚‹ã¾ã§ã®æ™‚é–“ã€‚è¨ˆç®—ã‚„ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã®é€Ÿã•ã§ã™ã€‚</li>
                    <li><strong>åå¿œé€Ÿåº¦:</strong> ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚Šã€å…¥åŠ›ã—ãŸã‚Šã—ãŸã¨ãã«ã€ç”»é¢ãŒåå¿œã‚’è¿”ã™ã¾ã§ã®æ™‚é–“ã€‚ã“ã‚ŒãŒé…ã„ã¨ã€Œå›ºã¾ã£ãŸï¼Ÿã€ã¨æ„Ÿã˜ã•ã›ã¦ã—ã¾ã„ã¾ã™ã€‚</li>
                    <li><strong>æç”»é€Ÿåº¦:</strong> ãƒšãƒ¼ã‚¸ãŒç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§ã®æ™‚é–“ã‚„ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®æ»‘ã‚‰ã‹ã•ã€‚ã“ã‚ŒãŒé…ã„ã¨ã€ãƒšãƒ¼ã‚¸ã®è¡¨ç¤ºãŒã‚‚ãŸã¤ã„ãŸã‚Šã€ã‚«ã‚¯ã‚«ã‚¯ã—ãŸå‹•ãã«ãªã£ãŸã‚Šã—ã¾ã™ã€‚</li>
                </ul>
                <p>ä¾‹ãˆã°ã€æ¤œç´¢ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã‚‚10ç§’ã‚‚çµæœãŒè¿”ã£ã¦ã“ãªã„ã‚µã‚¤ãƒˆã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹ãŸã³ã«ã‚«ã‚¯ã¤ããƒ–ãƒ­ã‚°è¨˜äº‹â€¦ãã‚“ãªçµŒé¨“ã¯ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å¾…ã£ã¦ãã‚Œã¾ã›ã‚“ã€‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ä½ã„ã‚µã‚¤ãƒˆã¯ã€ã™ãã«é–‰ã˜ã‚‰ã‚Œã¦ã—ã¾ã†ã®ã§ã™ã€‚</p>
            </section>

            <section class="card">
                <h2>ğŸ¢ ã‚ˆãã‚ã‚‹ã€Œé…ã„ã‚³ãƒ¼ãƒ‰ã€ã¨æ”¹å–„ä¾‹</h2>
                <p>åˆå¿ƒè€…ã®é ƒã«æ›¸ã„ã¦ã—ã¾ã„ãŒã¡ãªéåŠ¹ç‡ãªã‚³ãƒ¼ãƒ‰ã¨ã€ãã®æ”¹å–„æ–¹æ³•ã‚’ä¸¦ã¹ã¦è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚</p>
                
                <h3>ä¾‹1ï¼šãƒ«ãƒ¼ãƒ—å‡¦ç†ã®ä¸­ã§ã®<dfn title="Document Object Modelã®ç•¥ã€‚HTMLè¦ç´ ã‚’JavaScriptã§æ“ä½œã™ã‚‹ãŸã‚ã®ä»•çµ„ã¿ã€‚">DOM</dfn>æ“ä½œ</h3>
                <p><strong>ãªãœé…ã„ã®ã‹ï¼Ÿ:</strong> DOMæ“ä½œã¯ã€JavaScriptã®è¨ˆç®—ã«æ¯”ã¹ã¦éå¸¸ã«ã‚³ã‚¹ãƒˆã®é«˜ã„å‡¦ç†ã§ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã¯ `innerHTML` ãŒå¤‰æ›´ã•ã‚Œã‚‹ãŸã³ã«ã€ãƒšãƒ¼ã‚¸ã®æ§‹é€ ã‚’å†è¨ˆç®—ã—ã€ç”»é¢ã‚’å†æç”»ã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚ã“ã‚Œã‚’ä½•åº¦ã‚‚ç¹°ã‚Šè¿”ã›ã°ã€å½“ç„¶é…ããªã‚Šã¾ã™ã€‚</p>
                
                <h4>ğŸ¢ é…ã„ã‚³ãƒ¼ãƒ‰</h4>
                <pre><code>for (let i = 0; i < 2000; i++) {
  // ãƒ«ãƒ¼ãƒ—ã®ãŸã³ã«ç”»é¢ã‚’æ›¸ãæ›ãˆã¦ã„ã‚‹ï¼
  list.innerHTML += `&lt;li&gt;ã‚¢ã‚¤ãƒ†ãƒ  ${i}&lt;/li&gt;`;
}</code></pre>

                <h4>ğŸš€ æ”¹å–„ã‚³ãƒ¼ãƒ‰</h4>
                <pre><code>let htmlString = '';
for (let i = 0; i < 2000; i++) {
  // ã¾ãšã¯é«˜é€Ÿãªæ–‡å­—åˆ—çµåˆã ã‘ã‚’è¡Œã†
  htmlString += `&lt;li&gt;ã‚¢ã‚¤ãƒ†ãƒ  ${i}&lt;/li&gt;`;
}
// ãƒ«ãƒ¼ãƒ—ãŒçµ‚ã‚ã£ã¦ã‹ã‚‰ã€æœ€å¾Œã«ä¸€åº¦ã ã‘ç”»é¢ã‚’æ›¸ãæ›ãˆã‚‹
list.innerHTML = htmlString;</code></pre>
                <p><strong>æ”¹å–„ã®ãƒã‚¤ãƒ³ãƒˆ:</strong> ã‚³ã‚¹ãƒˆã®é«˜ã„DOMæ“ä½œã¯ãƒ«ãƒ¼ãƒ—ã®å¤–ã«å‡ºã—ã€å›æ•°ã‚’æœ€å°é™ï¼ˆã“ã®å ´åˆã¯1å›ï¼‰ã«æŠ‘ãˆã‚‹ã®ãŒé‰„å‰‡ã§ã™ã€‚</p>

                <h3>ä¾‹2ï¼šãƒ«ãƒ¼ãƒ—æ¡ä»¶ã§ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¸ã®ç¹°ã‚Šè¿”ã—ã‚¢ã‚¯ã‚»ã‚¹</h3>
                <p><strong>ãªãœé…ã„ã®ã‹ï¼Ÿ:</strong> `array.length` ã®ã‚ˆã†ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯ã€ä¸€è¦‹ã™ã‚‹ã¨é«˜é€Ÿã«æ€ãˆã¾ã™ã€‚ã—ã‹ã—ã€ãƒ«ãƒ¼ãƒ—ã§ä½•ç™¾ä¸‡å›ã‚‚ç¹°ã‚Šè¿”ã•ã‚Œã‚‹ã¨ã€ãã®ã‚ãšã‹ãªã‚³ã‚¹ãƒˆãŒç©ã¿é‡ãªã£ã¦ç„¡è¦–ã§ããªã„å·®ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚</p>
                
                <h4>ğŸ¢ é…ã„ã‚³ãƒ¼ãƒ‰</h4>
                <pre><code>for (let i = 0; i < largeArray.length; i++) {
  // ãƒ«ãƒ¼ãƒ—ã®ãŸã³ã« .length ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã‚‹
  // ...
}</code></pre>

                <h4>ğŸš€ æ”¹å–„ã‚³ãƒ¼ãƒ‰</h4>
                <pre><code>const len = largeArray.length; // å…ˆã«é•·ã•ã‚’å–å¾—ã—ã¦å¤‰æ•°ã«ä¿å­˜
for (let i = 0; i < len; i++) {
  // å¤‰æ•°ã‚’å‚ç…§ã™ã‚‹ã®ã§ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒä¸è¦ã«ãªã‚‹
  // ...
}</code></pre>
                <p><strong>æ”¹å–„ã®ãƒã‚¤ãƒ³ãƒˆ:</strong> ãƒ«ãƒ¼ãƒ—å†…ã§å¤‰åŒ–ã—ãªã„å€¤ã¯ã€ãƒ«ãƒ¼ãƒ—ã®å‰ã«ä¸€åº¦ã ã‘å–å¾—ã—ã¦å¤‰æ•°ã«ä¿å­˜ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ«ãƒ¼ãƒ—ä¸­ã®ç„¡é§„ãªå‡¦ç†ã‚’ãªãã›ã¾ã™ã€‚</p>
            </section>

            <section class="card" id="demo-area">
                <h2>â±ï¸ æ¯”è¼ƒä½“é¨“ï¼šè‡ªåˆ†ã§è¨ˆæ¸¬ã—ã¦ã¿ã‚ˆã†ï¼</h2>
                <p>ç™¾èã¯ä¸€è¦‹ã«ã—ã‹ãšã€‚å®Ÿéš›ã«ã‚³ãƒ¼ãƒ‰ã‚’å‹•ã‹ã—ã¦ã€ãã®é€Ÿã•ã‚’ä½“æ„Ÿã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚<br>
                ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€å„å‡¦ç†ã®å®Ÿè¡Œæ™‚é–“ãŒã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã¨ã€ã“ã®ä¸‹ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>

                <div class="demo-box">
                    <h3>ãƒ‡ãƒ¢1ï¼šå®Ÿè¡Œé€Ÿåº¦ï¼ˆDOMæ“ä½œï¼‰</h3>
                    <div class="demo-grid">
                        <div class="demo-column">
                            <h4>ğŸ¢ é…ã„ã‚³ãƒ¼ãƒ‰</h4>
                            <p>ãƒ«ãƒ¼ãƒ—ã®ä¸­ã§æ¯å›DOMã‚’æ“ä½œã™ã‚‹ãŸã‚ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®å†æç”»ãŒé »ç¹ã«ç™ºç”Ÿã—ã€å‡¦ç†ãŒéå¸¸ã«é…ããªã‚Šã¾ã™ã€‚</p>
                            <pre><code>for (let i = 0; i < 2000; i++) {
  dummy.innerHTML += '&lt;li&gt;...&lt;/li&gt;';
}</code></pre>
                            <button id="run-slow-dom">å®Ÿè¡Œ</button>
                            <div id="result-dom-slow" class="result-display"></div>
                        </div>
                        <div class="demo-column">
                            <h4>ğŸš€ é€Ÿã„ã‚³ãƒ¼ãƒ‰</h4>
                            <p>HTMLæ–‡å­—åˆ—ã‚’ä¸€æ—¦å¤‰æ•°ã«æºœã‚è¾¼ã¿ã€æœ€å¾Œã«ä¸€åº¦ã ã‘DOMã‚’æ“ä½œã™ã‚‹ãŸã‚ã€å†æç”»ãŒ1å›ã§æ¸ˆã¿ã€éå¸¸ã«é«˜é€Ÿã§ã™ã€‚</p>
                            <pre><code>let str = '';
for (let i = 0; i < 2000; i++) {
  str += '&lt;li&gt;...&lt;/li&gt;';
}
dummy.innerHTML = str;</code></pre>
                            <button id="run-fast-dom">å®Ÿè¡Œ</button>
                            <div id="result-dom-fast" class="result-display"></div>
                        </div>
                    </div>
                </div>

                <div class="demo-box">
                    <h3>ãƒ‡ãƒ¢2ï¼šå®Ÿè¡Œé€Ÿåº¦ï¼ˆé‡ã„ãƒ«ãƒ¼ãƒ—ï¼‰</h3>
                    <div class="demo-grid">
                        <div class="demo-column">
                            <h4>ğŸ¢ é…ã„ã‚³ãƒ¼ãƒ‰</h4>
                            <p>ãƒ«ãƒ¼ãƒ—ã®ãŸã³ã« `largeArray.length` ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã€ã‚ãšã‹ãªã‚³ã‚¹ãƒˆãŒç©ã¿é‡ãªã‚Šã¾ã™ã€‚</p>
                            <pre><code>for (let i = 0; i < 500ä¸‡; i++) {
  // ...
}</code></pre>
                            <button id="run-slow-loop">å®Ÿè¡Œ</button>
                            <div id="result-loop-slow" class="result-display"></div>
                        </div>
                        <div class="demo-column">
                            <h4>ğŸš€ é€Ÿã„ã‚³ãƒ¼ãƒ‰</h4>
                            <p>ãƒ«ãƒ¼ãƒ—ã®å‰ã«é•·ã•ã‚’å¤‰æ•°ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆä¿å­˜ï¼‰ã—ã¦ãŠãã“ã¨ã§ã€ãƒ«ãƒ¼ãƒ—ä¸­ã®ç„¡é§„ãªã‚¢ã‚¯ã‚»ã‚¹ã‚’ãªãã—ã¾ã™ã€‚</p>
                            <pre><code>const len = largeArray.length;
for (let i = 0; i < len; i++) {
  // ...
}</code></pre>
                            <button id="run-fast-loop">å®Ÿè¡Œ</button>
                            <div id="result-loop-fast" class="result-display"></div>
                        </div>
                    </div>
                </div>
                
                <div class="demo-box">
                    <h3>ãƒ‡ãƒ¢3ï¼šæç”»é€Ÿåº¦ï¼ˆç”»åƒã®é…å»¶èª­ã¿è¾¼ã¿ï¼‰</h3>
                    <p>ãƒšãƒ¼ã‚¸è¡¨ç¤ºã¨åŒæ™‚ã«å…¨ç”»åƒã‚’èª­ã¿è¾¼ã‚€ã®ã¨ã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«å¿œã˜ã¦è¡¨ç¤ºé ˜åŸŸã«å…¥ã£ãŸç”»åƒã ã‘ã‚’èª­ã¿è¾¼ã‚€ã®ã§ã¯ã€ã©ã¡ã‚‰ãŒå¿«é©ã§ã—ã‚‡ã†ã‹ï¼Ÿ</p>
                    <div class="demo-grid">
                        <div class="demo-column">
                            <h4>ğŸ¢ é€šå¸¸èª­ã¿è¾¼ã¿</h4>
                            <p>ãƒšãƒ¼ã‚¸ã‚’é–‹ã„ãŸç¬é–“ã«ã€è¡¨ç¤ºã•ã‚Œã¦ã„ãªã„ç”»åƒã‚‚å«ã‚ã¦å…¨ã¦ã®èª­ã¿è¾¼ã¿ã‚’é–‹å§‹ã—ã¾ã™ã€‚ç”»åƒãŒå¤šã„ã¨åˆæœŸè¡¨ç¤ºãŒé…ããªã‚Šã¾ã™ã€‚</p>
                            <button id="run-normal-load">å®Ÿè¡Œ</button>
                        </div>
                        <div class="demo-column">
                            <h4>ğŸš€ é…å»¶èª­ã¿è¾¼ã¿</h4>
                            <p>ã¾ãšãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã‚’è¡¨ç¤ºã—ã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦ç”»åƒãŒç”»é¢ã«è¿‘ã¥ã„ã¦ã‹ã‚‰åˆã‚ã¦ã€æœ¬å½“ã®ç”»åƒã®èª­ã¿è¾¼ã¿ã‚’é–‹å§‹ã—ã¾ã™ã€‚</p>
                            <button id="run-lazy-load">å®Ÿè¡Œ</button>
                        </div>
                    </div>
                    <div id="image-container" class="image-grid">
                        <p style="color: #777;">ä¸Šã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã€ç”»åƒã®èª­ã¿è¾¼ã¿æ–¹ã‚’è©¦ã—ã¦ãã ã•ã„ã€‚</p>
                    </div>
                </div>
                
                <div class="demo-box" style="text-align: center;">
                    <button id="reset-all-demos" style="width: auto;">å…¨ãƒ‡ãƒ¢ã‚’ãƒªã‚»ãƒƒãƒˆ</button>
                </div>

            </section>

            <section class="card">
                <h2>ğŸ’¡ ãƒ—ãƒ­ã‚‚ä½¿ã†æœ€é©åŒ–ç¿’æ…£5é¸</h2>
                <p>æ—¥ã€…ã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã§å°‘ã—æ„è­˜ã™ã‚‹ã ã‘ã§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯å¤§ããå¤‰ã‚ã‚Šã¾ã™ã€‚åˆå¿ƒè€…ã§ã‚‚ä»Šæ—¥ã‹ã‚‰ã§ãã‚‹ç¿’æ…£ã‚’5ã¤ç´¹ä»‹ã—ã¾ã™ã€‚</p>
                <ol>
                    <li><strong>DOMæ“ä½œã¯æ…é‡ã«:</strong> ç”»é¢ã®æ›¸ãæ›ãˆã¯é‡ã„å‡¦ç†ã ã¨å¸¸ã«æ„è­˜ã—ã€å›æ•°ã‚’æ¸›ã‚‰ã›ãªã„ã‹è€ƒãˆã¾ã—ã‚‡ã†ã€‚</li>
                    <li><strong>ãƒ«ãƒ¼ãƒ—ã‚’æ„è­˜ã™ã‚‹:</strong> ä½•åƒã€ä½•ä¸‡å›ã¨ç¹°ã‚Šè¿”ã•ã‚Œã‚‹ãƒ«ãƒ¼ãƒ—ã®ä¸­ã®å‡¦ç†ã¯ã€ã‚ãšã‹ãªéåŠ¹ç‡ãŒå¤§ããªé…å»¶ã«ã¤ãªãŒã‚Šã¾ã™ã€‚ãƒ«ãƒ¼ãƒ—å†…ã§ã¯é‡ã„å‡¦ç†ã‚’é¿ã‘ã¾ã—ã‚‡ã†ã€‚</li>
                    <li><strong>è¨ˆç®—çµæœã‚’ä½¿ã„å›ã™ (ã‚­ãƒ£ãƒƒã‚·ãƒ¥):</strong> ãƒ«ãƒ¼ãƒ—å†…å¤–ã«é–¢ã‚ã‚‰ãšã€åŒã˜è¨ˆç®—ã‚’ä½•åº¦ã‚‚è¡Œã†ã®ã¯ç„¡é§„ã§ã™ã€‚çµæœã‚’å¤‰æ•°ã«ä¿å­˜ã—ã¦ä½¿ã„å›ã—ã¾ã—ã‚‡ã†ã€‚</li>
                    <li><strong>ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«ã‚’åˆ¶å¾¡ã™ã‚‹:</strong> `scroll` ã‚„ `mousemove` ã®ã‚ˆã†ãªé »ç¹ã«ç™ºç”Ÿã™ã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã®å‡¦ç†ã¯ã€<dfn title="å‡¦ç†ã‚’é–“å¼•ããƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã€‚ä¾‹ãˆã°ã€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆã§0.2ç§’ã”ã¨ã«å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ãªã©ã€‚">ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°</dfn>ã‚„<dfn title="æœ€å¾Œã®ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿã‹ã‚‰ä¸€å®šæ™‚é–“å¾Œã«å‡¦ç†ã‚’ä¸€åº¦ã ã‘å®Ÿè¡Œã™ã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã€‚å…¥åŠ›å®Œäº†å¾Œã®æ¤œç´¢ãªã©ã§ä½¿ã‚ã‚Œã‚‹ã€‚">ãƒ‡ãƒã‚¦ãƒ³ã‚¹</dfn>ã¨ã„ã£ãŸãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã§å®Ÿè¡Œå›æ•°ã‚’åˆ¶å¾¡ã§ããªã„ã‹æ¤œè¨ã—ã¾ã—ã‚‡ã†ã€‚ï¼ˆã“ã‚Œã¯å°‘ã—ç™ºå±•çš„ãªå†…å®¹ã§ã™ï¼‰</li>
                    <li><strong>æ°—è»½ã«è¨ˆæ¸¬ã™ã‚‹:</strong>ã€Œã©ã£ã¡ãŒé€Ÿã„ã‹ãªï¼Ÿã€ã¨ç–‘å•ã«æ€ã£ãŸã‚‰ã€`console.time()` ã§ã™ãã«è¨ˆæ¸¬ã™ã‚‹ç™–ã‚’ã¤ã‘ã¾ã—ã‚‡ã†ã€‚å‹˜ã«é ¼ã‚‰ãšã€äº‹å®Ÿã«åŸºã¥ã„ã¦åˆ¤æ–­ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚</li>
                </ol>
            </section>

            <section class="card">
                <h2>âœ¨ ã¾ã¨ã‚ï¼šé€Ÿã„ã‚³ãƒ¼ãƒ‰ã¯ã€ã™ã¹ã¦ã‚’è‰¯ãã™ã‚‹</h2>
                <p>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æœ€é©åŒ–ã™ã‚‹ã“ã¨ã¯ã€å˜ãªã‚‹è‡ªå·±æº€è¶³ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å¤šãã®ãƒ¡ãƒªãƒƒãƒˆã‚’ã‚‚ãŸã‚‰ã—ã¾ã™ã€‚</p>
                <ul>
                    <li><strong>ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã®å‘ä¸Š:</strong> ã‚µã‚¯ã‚µã‚¯å‹•ãWebã‚µã‚¤ãƒˆã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æº€è¶³åº¦ã‚’é«˜ã‚ã€é›¢è„±ç‡ã‚’ä¸‹ã’ã¾ã™ã€‚</li>
                    <li><strong>çœã‚¨ãƒãƒ«ã‚®ãƒ¼:</strong> ç„¡é§„ãªè¨ˆç®—ã‚’æ¸›ã‚‰ã™ã“ã¨ã¯ã€CPUã®æ¶ˆè²»é›»åŠ›ã‚’æŠ‘ãˆã‚‹ã“ã¨ã«ã¤ãªãŒã‚Šã¾ã™ã€‚ç‰¹ã«ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒã‚¤ã‚¹ã§ã¯ãƒãƒƒãƒ†ãƒªãƒ¼æŒã¡ã«ç›´çµã—ã¾ã™ã€‚</li>
                    <li><strong>ä¿å®ˆæ€§ã®å‘ä¸Š:</strong> ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ„è­˜ã—ãŸã‚³ãƒ¼ãƒ‰ã¯ã€çµæœçš„ã«ç„¡é§„ãŒãªãã€ãã‚Œã„ã§èª­ã¿ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰ã«ãªã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚</li>
                </ul>
                <p>é€Ÿã„ã‚³ãƒ¼ãƒ‰ã¯ã€ç¾ã—ãã€ãã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚‚åœ°çƒã«ã‚‚å„ªã—ã„ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚ãœã²ä»Šæ—¥ã‹ã‚‰ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æ„è­˜ã—ãŸã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’å¿ƒãŒã‘ã¦ã¿ã¦ãã ã•ã„ã€‚</p>
            </section>
        </main>
        
        <footer>
            <p>è£½ä½œæ™‚é–“: 400åˆ†</p>
        </footer>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- è¦ç´ ã®å–å¾— ---
            const slowDomBtn = document.getElementById('run-slow-dom');
            const fastDomBtn = document.getElementById('run-fast-dom');
            const resultDomSlowDiv = document.getElementById('result-dom-slow');
            const resultDomFastDiv = document.getElementById('result-dom-fast');

            const slowLoopBtn = document.getElementById('run-slow-loop');
            const fastLoopBtn = document.getElementById('run-fast-loop');
            const resultLoopSlowDiv = document.getElementById('result-loop-slow');
            const resultLoopFastDiv = document.getElementById('result-loop-fast');
            
            const normalLoadBtn = document.getElementById('run-normal-load');
            const lazyLoadBtn = document.getElementById('run-lazy-load');
            const imageContainer = document.getElementById('image-container');
            
            const resetAllDemosBtn = document.getElementById('reset-all-demos');

            // --- å®šæ•° (è² è·ã‚’èª¿æ•´) ---
            const DOM_ITERATIONS = 2000; // ã‚¹ãƒˆãƒ¬ã‚¹ãªãä½“æ„Ÿã§ãã‚‹å›æ•°
            const LOOP_ITERATIONS = 5000000; // å·®ãŒåˆ†ã‹ã‚Šã‚„ã™ã„ã‚ˆã†ã«èª¿æ•´
            const IMAGE_COUNT = 50; // ãƒ‡ãƒ¢ç”¨ã®ç”»åƒæ•°
            const largeArray = new Array(LOOP_ITERATIONS).fill(0);

            let imageObserver = null;

            // --- UIåˆ¶å¾¡ç”¨ã®é–¢æ•° ---
            const setButtonsState = (buttons, disabled) => {
                buttons.forEach(btn => btn.disabled = disabled);
            };

            // --- å…±é€šå‡¦ç†é–¢æ•° ---
            const runTest = (testFunction, resultElement, buttonToDisable) => {
                buttonToDisable.disabled = true;
                resultElement.textContent = 'å‡¦ç†ä¸­...';

                setTimeout(() => {
                    try {
                        const startTime = performance.now();
                        const testName = testFunction.name;
                        console.time(testName);
                        
                        testFunction(); // å®Ÿéš›ã®å‡¦ç†ã‚’å®Ÿè¡Œ

                        const endTime = performance.now();
                        console.timeEnd(testName);
                        const duration = endTime - startTime;
                        resultElement.textContent = `å®Œäº†ï¼ ${duration.toFixed(2)} ms`;
                    } catch (e) {
                        console.error(e);
                        resultElement.textContent = 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚';
                    } finally {
                        buttonToDisable.disabled = false;
                    }
                }, 10);
            };

            // --- ãƒ‡ãƒ¢1ï¼šDOMæ“ä½œ ---
            function slowDomTest() {
                const dummyElement = document.createElement('ul');
                for (let i = 0; i < DOM_ITERATIONS; i++) {
                    dummyElement.innerHTML += `<li>ã‚¢ã‚¤ãƒ†ãƒ  ${i}</li>`;
                }
            }
            function fastDomTest() {
                let htmlString = '';
                for (let i = 0; i < DOM_ITERATIONS; i++) {
                    htmlString += `<li>ã‚¢ã‚¤ãƒ†ãƒ  ${i}</li>`;
                }
                const dummyElement = document.createElement('ul');
                dummyElement.innerHTML = htmlString;
            }

            // --- ãƒ‡ãƒ¢2ï¼šãƒ«ãƒ¼ãƒ—å‡¦ç† ---
            function slowLoopTest() {
                let dummyValue = 0;
                for (let i = 0; i < largeArray.length; i++) {
                    dummyValue += i;
                }
            }
            function fastLoopTest() {
                const len = largeArray.length;
                let dummyValue = 0;
                for (let i = 0; i < len; i++) {
                    dummyValue += i;
                }
            }
            
            // --- ãƒ‡ãƒ¢3ï¼šç”»åƒã®é…å»¶èª­ã¿è¾¼ã¿ ---
            const createImage = (isLazy, index) => {
                const img = document.createElement('img');
                const imageUrl = `https://placehold.co/300x300/3498db/ffffff?text=Image+${index+1}`;
                if (isLazy) {
                    img.dataset.src = imageUrl;
                    img.src = 'https://placehold.co/30x30/e0e0e0/e0e0e0?text=...'; // ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼
                } else {
                    img.src = imageUrl;
                    img.onload = () => img.classList.add('loaded');
                }
                return img;
            };

            const setupImages = (isLazy) => {
                imageContainer.innerHTML = '';
                setButtonsState([normalLoadBtn, lazyLoadBtn], true);

                for (let i = 0; i < IMAGE_COUNT; i++) {
                    imageContainer.appendChild(createImage(isLazy, i));
                }

                if (isLazy) {
                    setupLazyLoadObserver();
                }
                 setButtonsState([normalLoadBtn, lazyLoadBtn], false);
            };
            
            const setupLazyLoadObserver = () => {
                if(imageObserver) {
                    imageObserver.disconnect();
                }

                imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            img.src = img.dataset.src;
                            img.onload = () => img.classList.add('loaded');
                            observer.unobserve(img);
                        }
                    });
                }, { rootMargin: "0px 0px 200px 0px" }); // ç”»é¢ä¸‹200pxã¾ã§æ¥ãŸã‚‰èª­ã¿è¾¼ã¿é–‹å§‹

                const images = imageContainer.querySelectorAll('img[data-src]');
                images.forEach(img => imageObserver.observe(img));
            };

            const resetAllDemos = () => {
                // ãƒ‡ãƒ¢1ã®ãƒªã‚»ãƒƒãƒˆ
                resultDomSlowDiv.textContent = '';
                resultDomFastDiv.textContent = '';
                // ãƒ‡ãƒ¢2ã®ãƒªã‚»ãƒƒãƒˆ
                resultLoopSlowDiv.textContent = '';
                resultLoopFastDiv.textContent = '';
                // ãƒ‡ãƒ¢3ã®ãƒªã‚»ãƒƒãƒˆ
                if(imageObserver) imageObserver.disconnect();
                imageContainer.innerHTML = '<p style="color: #777;">ä¸Šã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã€ç”»åƒã®èª­ã¿è¾¼ã¿æ–¹ã‚’è©¦ã—ã¦ãã ã•ã„ã€‚</p>';
                
                console.clear();
                console.log("å…¨ãƒ‡ãƒ¢ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸã€‚");
            };

            // --- ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®è¨­å®š ---
            slowDomBtn.addEventListener('click', () => runTest(slowDomTest, resultDomSlowDiv, slowDomBtn));
            fastDomBtn.addEventListener('click', () => runTest(fastDomTest, resultDomFastDiv, fastDomBtn));
            
            slowLoopBtn.addEventListener('click', () => runTest(slowLoopTest, resultLoopSlowDiv, slowLoopBtn));
            fastLoopBtn.addEventListener('click', () => runTest(fastLoopTest, resultLoopFastDiv, fastLoopBtn));

            normalLoadBtn.addEventListener('click', () => setupImages(false));
            lazyLoadBtn.addEventListener('click', () => setupImages(true));
            
            resetAllDemosBtn.addEventListener('click', resetAllDemos);
        });
    </script>
</body>
</html>
